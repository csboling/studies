\section{Submanifolds}
Level sets of smooth functions $F: N^n \to M^m$, with $n \geq m$, are
generically smooth submanifolds of $N^n$ of dimension $n - m$. Here a
level set is a subset of the form $F^{-1}(\{c\})$.

\subsection{Embedded (regular) submanifolds}

\begin{defn}[Embedded submanifold]
A subset $S$ of a $C^\infty$ $n$-manifold $N^n$ is a
\emph{$k$-dimensional embedded} or \emph{regular submanifold} if
locally, $S$ is the common zero set of $n - k$ coordinate functions in
some chart of $N^n$. That is,
$\forall p \in S$, $\exists (U, \phi) = (U, x^1, \dots, x^n)$ a chart
about $p$ and $n - k$ distinct indices $i_1, \dots, i_{n-k} \in \{ 1,
\dots, n \}$ such that
$$
U \cap S = \{ u \in U \vert x^{i_1}(u) = \cdots = x^{i_{n-k}}(u) = 0 \}.
$$
\end{defn}

\begin{defn}[Codimension]
If $S$ is a $k$-dimensional submanifold of an $n$-manifold, then $n -
k$ is the \emph{codimension} of $S$.
\end{defn}

\begin{remark}
  \begin{enumerate}
    \item{
      Without loss of generality,
      $$
      U \cap S = \{ u \in U \vert x^{k+1}(u) = \cdots = x^n(u) = 0 \}
      $$
      because permutations of the indices
      $\sigma: \mathbb{R}^n \to \mathbb{R}^n$ given by
      $\sigma(r^1, \dots, r^n) = (r^{\sigma(1)}, \dots,
      r^{\sigma(n)})$ is a diffeomorphism.
    }
    \item{
      The chart $(U, \phi)$ in the definition is said to be
      \emph{adapted to $S$}.
    }
    \item{
      A prototypical embedded submanifold is given by
      $$
      R^k \simeq S = \{ (r^1, \dots, r^k, 0, \dots, 0) \}
      $$
      in $\mathbb{R}^n$. Indeed any embedded submanifold looks locally
      like $R^k$ embedded in $R^n$ in this way.
    }
    \item{
      These objects are called submanifolds because they possess a
      submanifold structure.
      Under the subspace topology $S$ inherits the Hausdorff and
      second-countable properties.
      Let $\mathcal{U} = \{ (U, \phi) \}$ be the collection of charts
      adapted to $S$ that cover $S$. Let $i: \mathbb{R}^k \to
      \mathbb{R}^n$ be the inclusion map
      $(r^1, \dots, r^k) \mapsto (r^1, \dots, r^k, 0, \dots 0)$, and
      $\pi: \mathbb{R}^n \to \mathbb{R}^k$ be the projection map
      $(r^1, \dots, r^n) mapsto (r^1, \dots, r^k)$. Given
      $(U, \phi) \in \mathcal{U}$, define
      $\phi_S : U \cap S \to \mathbb{R}^k$ by $\phi_S = \pi \circ
      \phi$. We claim that
      $\{ (U \cap S, \pi \circ \phi) \vert (U, \phi) \in \mathcal{U}
      \}$ forms a smooth atlas. The inverses
      $\phi_S^{-1} = \phi^{-1} \circ i$ give a homeomorphism, so we
      have a topological manifold. Next we wish to check smooth
      compatibility. Let $(U \cap S, \phi_S)$ and $(V \cap S, \psi_S)$
      be charts in our proposed atlas. Then
      $$
      \psi_S \circ \phi_S^{-1} = \pi \circ \psi \circ \phi^{-1} \circ i
      $$
      is a composition of smooth maps and is hence smooth.
    }
  \end{enumerate}
\end{remark}

\begin{xmpl}
An example of a space which is not a submanifold is the ``topologist's
sine curve'', which is connected but not path-connected. As a set,
$$
S = \{ (0, y) \vert -1 < y < 1 \}
\cup \{ (x, \sin\left(\frac{1}{x}\right)) \vert 0 < x < 1 \}.
$$
Because the curve accumulates on itself nontrivially at the origin, no
neighborhood of the origin looks like a copy of $\mathbb{R}^1$ in $\mathbb{R}^2$.
\end{xmpl}

\begin{defn}[Regular points, critical points]
Let $F: N^n \to M^m$ be a smooth map. We say that
$p \in N$ is \emph{regular} if
$F_{\ast, p}: T_pN^n \to T_{F(p)}M^m$ is surjective, which requires
that $n \geq m$ by the rank-nullity theorem. A point that is not
regular is called \emph{critical}. We define the \emph{critical set}
to be the set $\mathrm{Crit}(F)$ of all critical points of $F$. Points
that lie in the image of the critical set $F(\mathrm{Crit}(F))$ are
called \emph{critical values}, and points in
$M - F(\mathrm{Crit}(F))$ are called \emph{regular values}.
A point $c \in M$ is a regular value if either
\begin{enumerate}
  \item{$F^{-1}(c) = \varnothing$.}
  \item{
    If $F^{-1}(c)$ is nonempty, then each $p \in F^{-1}(c)$ is a
    regular point in $N$.
  }
\end{enumerate}
\end{defn}

\begin{theorem}[Sard's theorem]
If $F: N^n \to M^m$ is a smooth map, then almost every $m \in M$ is a
regular value, i.e. $F(\mathrm{Crit}(F))$ has Lebesgue measure zero in
$M$ -- i.e. in every chart it has Lebesgue measure zero.
In particular, if we take any open set in $M^m$, it will contain
regular values.
\end{theorem}

\begin{theorem}[Regular value theorem]
Let $F: N^n \to M^m$ be $C^\infty$, and $c \in M^m$ be a regular
value. Then if $S = F^{-1}(c)$ is nonempty, $S$ is an embedded
submanifold of $N^n$ of dimension $k = n - m$, i.e. of codimension $m$.
\end{theorem}

\begin{proof}
Let $S = F^{-1}(c) \neq \varnothing$, and $c$ be a regular value. We
need to exhibit an adapted chart for each $p \in S$. Let $(V, \psi)$
be a chart in $M^m$ centered at $c$ with coordinates $y^1, \dots,
y^m$, taking $V$ to $\mathbb{R}^m$ with local coordinates $r^1, \dots,
r^m$. Let $p \in F^{-1}(c)$. Since $F$ is continuous, $F^{-1}(V)$ is
open, so for any $p \in F^{-1}(c)$ we have a neighborhood $U$ centered
at $p$, and a coordinate function $\phi$ on $U$ since $S$ is an open
set belonging to the manifold $N^n$.
\begin{align*}
   U \cap S
&= \{ u \in U \vert F(u) = c \} \\
&= \{ u \in U \vert \psi \circ F(u) = 0 \} \\
&= \{ u \in U \vert r^i \circ \psi \circ F(u) = 0 \} \\
&= \{ u \in U \vert y^i \circ F(u) = 0 \} \\
&= \{ u \in U \vert F^i(u) = 0 \},
\end{align*}
so that $U \cap S$ is ``cut out'' by the $m$ component functions of
$F$.

We conclude by altering the chart $(U, \phi)$ to obtain a chart
$(\bar{U}, \Phi)$ for which $F^i$ are coordinate functions of $\Phi$.
In coordinates,
$$
  F_{\ast, p}
= \mathrm{Jac}(F)|_p
= \left[\frac{\partial F^i}{\partial x^j}(p)\right]
$$
is surjective by assumption. Therefore the Jacobian has an $m \times
m$ minor with nonzero determinant. Without loss of generality let this
be the minor consisting of the first $m$ columns. Define
$\Phi: U \to \mathbb{R}^n$ by
$\Phi(u) = (F^1(u), \dots, F^m(u), x^{m+1}, \dots, x^n)$. Then
$\mathrm{Jac}(\Phi)|_p$
can be decomposed as a block-diagonal matrix with the full-rank
$m \times m$ block in the top left and $I_{(n - m) \times (n - m)}$ in
the bottom right, which has nonzero determinant.
\end{proof}

\subsection{Lie groups}
\begin{xmpl}
  \begin{enumerate}
    \item{
      Spheres have a smooth manifold structure. Let
      $F: \mathbb{R}^{n+1} \to \mathbb{R}$ be the map
      $$
        F(x^1, \dots, x^{n+1})
      = \sum_{i=1}^n (x^i)^2 \geq 0.
      $$
      Since this is a map between Euclidean spaces, the differential
      of $F$ is exactly its Jacobian
      \begin{align*}
         \mathrm{Jac}(F)
      &= \left[\begin{array}{c c c c}
           \frac{\partial F}{\partial x^1} &
           \frac{\partial F}{\partial x^2} &
           \dots &
           \frac{\partial F}{\partial x^3}
         \end{array}\right] \\
      &= \left[\begin{array}{c c c c}
           2x^1 &
           2x^2 &
           \dots &
           2x^n
         \end{array}\right]
      \end{align*}
      so this linear transformation fails to be surjective only at
      $\mathbf{0}$. Hence, every $r^2 > 0$ is a regular value, and so
      for each $r^2$ we have a submanifold $S^n_{r^2} = F^{-1}(r^2)$.
    }
    \item{
      The \emph{special linear group} $\mathrm{SL_n(\mathbb{R})}$ is
      the group of $n \times n$ matrices with determinant 1. We have a
      map
      $\det: \mathrm{GL}_n(\mathbb{R}) \to \mathbb{R} \setminus \{ 0
      \}$, and $\mathrm{GL}_n(\mathbb{R}) = \det^{-1}(1)$.

      Let $A = [a^i_j] \in \mathrm{GL}_n(\mathbb{R})$. Again this is a
      map between Euclidean spaces, and
      \begin{align*}
         \mathrm{Jac}(\det)
      &= \left[ \frac{\partial \det}{\partial a^i_j} \right].
      \end{align*}
      Using cofactor expansion in the $i$th row and writing
      $C^i_j$ for the $i,j$th minor of $A$,
      \begin{align*}
         \det(a^i_j)
      &= (-1)^{i+1} a_1^i \det(C_1^i)
       + \cdots
       + (-1)^{i+n} a_n^i \det(C_n^i),
      \end{align*}
      and $a_1^i, \dots, a_n^i$ do not appear in any of the minors
      $C^i_1, \dots, C^i_n$. Therefore the Jacobian fails to surject
      if and only if
      $
        \frac{\partial \det}{\partial a^i_j}
      = (-1)^{i+j} \det(C_j^i)
      $
      which is true if and only if $\det C_j^i = 0$, which is true if
      and only if $\det A = 0$, a contradiction since
      $A \in \mathrm{GL}_n(\mathbb{R})$. Therefore
      $\mathrm{SL}_n(\mathbb{R})$ is a $C^\infty$ $(n^2 -
      1)$-manifold. Since it has a group structure as well, this is a
      Lie group. (In general closed subsets of Lie groups that are
      submanifolds are Lie groups).
    }
    \item{
      Consider the extra-special linear group
      $\mathrm{SL}_2(\mathbb{R})$. This is of dimension $3 = 2^2 - 1$
      and has three one-dimensional subgroups:
      \begin{align*}
         K
      &= \left\{
           \left.
             \left(
               \begin{array}{r r}
                 \cos \theta & -\sin \theta \\
                 \sin \theta &  \cos \theta
               \end{array}
             \right)
           \right\vert
           \theta \in \mathbb{R}
         \right\}, \\
         N
      &= \left\{
           \left.
             \left(
               \begin{array}{r r}
                 1 & s \\
                 0 & 1
               \end{array}
             \right)
           \right\vert
           s \in \mathbb{R}
         \right\} \\
      &\simeq \mathbb{R}, \\
         A
      &= \left\{
           \left.
             \left(
               \begin{array}{r r}
                 e^t & 0 \\
                 0   & e^{-t}
               \end{array}
             \right)
           \right\vert
           t \in \mathbb{R}
         \right\} \\
      &\simeq \mathbb{R}.
      \end{align*}
      However $K \simeq S^1$, since there is an isomorphism from
      $\mathbb{R} / 2 \pi \mathbb{Z}$.

      There is a theorem of Iwasawa that
      $K \times N \times A \to \mathrm{SL}_2(\mathbb{R})$ given by
      $(k, n, a) \mapsto k n a$ is a diffeomorphism (not a
      group homomorphism) so that
      $\mathrm{SL}_2(\mathbb{R})$ is diffeomorphic to the handlebody
      $S^1 \times \mathbb{R}^2$.

      We can also see that the tangent space at the identity
      $T_I \mathrm{SL}_2(\mathbb{R})$ has basis
      \begin{align*}
        \left.\frac{\partial}{\partial \theta}\right|_{\theta = 0}
      &= \left[
           \begin{array}{r r}
             0 & -1 \\
             1 &  0
           \end{array}
         \right], \\
         \left.\frac{\partial}{\partial s}\right|_{s = 0}
      &= \left[
           \begin{array}{r r}
             0 &  1 \\
             0 &  0
           \end{array}
         \right], \\
      \left.\frac{\partial}{\partial t}\right|_{t = 0}
      &= \left[
           \begin{array}{r r}
             1 &  0 \\
             0 & -1
           \end{array}
         \right],
      \end{align*}
      all of which have trace zero. We can show that zero is a regular
      value of the trace on the set of $2 \times 2$ matrices, and
      indeed $T_I \mathrm{SL}_2(\mathbb{R})$ is the submanifold of all
      trace 0 matrices.
    }
    \item{
      The Euclidean/orthogonal group $\mathcal{O}(n)$ is
      \begin{align*}
         \mathcal{O}(n)
      &= \{ A \in M^{n \times n} \vert \| A v \| = \| v \| \forall v
         \} \\
      &= \{ A \in \mathrm{GL}_n(\mathbb{R}) \vert
            \| A v \| = \| v \|
         \} \\
      &=  \{ A \in \mathrm{GL}_n(\mathbb{R}) \vert
            \langle A v, A w \rangle = \langle v, w \rangle
         \} \\
      &= \{ A \in \mathrm{GL}_n(\mathbb{R}) \vert
            v^T A^T A w = v^T w
         \} \\
      &= \{ A \in \mathrm{GL}_n(\mathbb{R}) \vert
            A^T A = \mathrm{Id}
         \} \\
      &= \{ A \in \mathrm{GL}_n(\mathbb{R}) \vert
            \text{$A$'s columns form a basis}
         \} \\
      &= \{ A \in \mathrm{GL}_n(\mathbb{R}) \vert
            \text{$A$'s rows form a basis}
         \} \\
      \end{align*}
      where $\|v\| = \langle v, v \rangle^{\frac{1}{2}}$ and
      $\langle v, w \rangle = v^T w$. This is a subgroup (since
      $(AB)^T(AB) = B^T A^T A B = B^T B = I$) of the
      isometry group of Euclidean space.
      The full isometry group of $\mathbb{R}^n$ is
      $\mathcal{O}(n) \ltimes \mathbb{R}^n$, which includes
      translations by an arbitrary vector.

      The map $f: \mathrm{GL}_n(\mathbb{R}) \to
      \mathrm{GL}_n(\mathbb{R})$ given by $f(A) = A^T A$ has values in
      the symmetric matrices $\mathrm{Sym}_n$. The dimension of
      $\mathrm{Sym}_n$ is $\sum_{i=1}^n i = \frac{n(n+1)}{2}$, and
      $T_B \mathrm{Sym}_n = \mathrm{Sym}_n$ for any $B \in
      \mathrm{Sym}_n$.

      We wish to know when the pushforward
      $$
        f_{\ast, A} :
            T_A \mathrm{GL}_n(\mathbb{R})
        \to T_{f(A)} \mathrm{Sym}_n(\mathbb{R})
      $$
      is surjective. (This is really a map from
      $\mathrm{Mat}_n(\mathbb{R}) \to \mathrm{Sym}_n(\mathbb{R})$.
      Let $X \in T_A(\mathrm{GL}_n(\mathbb{R})$. Let
      $c(t) = A + tX$, so that $c(0) = A$ and $c^\prime(0) = X$. Then
      $f_{\ast, A}(X) = (f \circ c)^\prime(0)$ and
      \begin{align*}
         (f \circ c)(t)
      &= c(t)^T c(t) \\
      &= (A + tX)^T(A + tX) \\
      &= A^TA + t(A^T X + X^T A) + t^2 X^T X,
      \end{align*}
      so $f_{\ast, A}(X) = A^T X + X^T A$. To check surjectivity, we
      wish to exhibit a matrix $X \in \mathrm{Mat}_n$ such that
      $A^T X + X^T A = Y$ for any $Y$. Let
      $X = \frac{1}{2} (A^T)^{-1} Y$ so that
      \begin{align*}
         A^T X + X^T A
      &= \frac{1}{2}
           A^T (A^T)^{-1} Y
       + \frac{1}{2}
           Y^T((A^T)^{-1})^T \\
      &= \frac{1}{2} Y + \frac{1}{2} Y^T \\
      &= Y.
      \end{align*}
      Therefore $f_{ast, A}$ is surjective, so
      $\mathcal{O}(n) = f^{-1}(I)$ is a $C^\infty$ manifold of
      dimension
      $$
        n^2 - \frac{(n+1)n}{2}
      = \frac{n^2 - n}{2}
      = \frac{n(n-1)}{2}.
      $$

      The orthogonal group is not connected -- it has two connected
      components. To see this consider that
      $\det: \mathcal{O}(n) \to \{ \pm 1 \}$,
      since
      $$
        \det(A A^T)
      = \det (A) \det (A^T)
      = (\det A)^2
      = \det(I) = 1,
      $$
      and note that this is a surjective group homomorphism.
      The special orthogonal group is given by
      $$
        \mathrm{SO}(n)
      = \ker(\det)
      = \{A \vert A^TA = I, \det A = 1 \}.
      $$
      Both
      $\mathrm{SO}(n)$ and $\det^{-1}(-1)$ (not a group) are clopen,
      so these are two connected components.

      Furthermore $T_I \mathcal{O}(n) = T_I \mathrm{SO}(n)$. Let
      $X \in T_I \mathcal{O}(n)$ and define a curve by
      $c(t) = I + tX \subset \mathrm{SO}(n)$, which has $c(0) = I$ and
      $c^\prime(0) = X$. Then
      $$
      c(t)^T c(t) = I
      $$
      and differentiating this equation gives
      $$
        c^\prime(0)^T
        c(0)
      + c(0)^T c^\prime(0)
      = 0
      $$
      i.e. $X^TI + I^T X = X^T + X = 0$, so $X^T = -X$. Therefore
      $T_I\mathrm{SO}(n)$ is the space of skew-symmetric $n \times n$
      real matrices, which also has dimension
      $\frac{n(n-1)}{2}$.
    }
  \end{enumerate}
\end{xmpl}

In a Lie group, the tangent space at the identity element is called
the \emph{Lie algebra}.

\begin{tabular}{c | c}
  $n$ &
  $\dim \mathcal{O}(n) = \dim \mathrm{SO}(n) = \frac{n(n-1)}{2}$ \\
  \hline \\
  1 & 0 ($\mathcal{O}(n) \simeq \mathbb{Z}_2 = \langle x \mapsto -x \rangle$) \\
  2 & 1 ($\mathrm{SO}(2)$ is $2 \times 2$ rotation matrices) \\
  3 & 3 ($\mathrm{SO}(3) \simeq \mathbb{R}P^3$)
\end{tabular}
Also observe that $\mathcal{O}(n)$ and $\mathrm{SO}(n)$ are compact,
since they are closed (as preimages $f^{-1}(I)$ of functions into
$\mathbb{R}^{n^2}$) and bounded: a matrix in
$\mathcal{O}(n)$ has columns that form an orthonormal basis of
$\mathbb{R}^n$. In particular, the columns each have Euclidean norm 1.
Therefore each entry $a^i_j$ satisfies $-1 \leq a^i_j \leq 1$.

Note that since columns of $\mathrm{SO}(3)$ form a basis,
$\mathrm{SO}(3)$ acts transitively on $S^2$, so
$S^2 = \mathrm{SO}(3) / \mathrm{SO}(2)$, and more generally
$S^n = \mathrm{SO}(n+1) / \mathrm{SO}(n)$.

Now we show a sketch of how $\mathrm{SO}(3) \simeq \mathbb{R}P^3$.
Take the $n$-disk
$\mathbb{D}^n = \{ x \in \mathbb{R}^n \vert \| x \| \leq 1 \}$ and its
boundary $\partial D^n = S^{n-1}$. To exhibit a homeomorphism (in fact
a diffeomorphism exists) we therefore wish to identify
$\mathrm{SO}(3)$ with points in $\mathbb{D}^3$ with opposite boundary
points identified.

Let $A \in \mathrm{SO}(3)$. Then 1 is an eigenvalue of $A$, since
$p(\lambda) = \det(A - \lambda I)$ is a cubic polynomial, and
therefore has at least one real root by the intermediate value
theorem, since the leading term looks like $cx^3$ and so some zero of
$p$ is real. If this root is one we are done. If not, it is -1, so
$A$ flips a line $L$ and leaves fixed as a set the perpendicular plane
$L^\perp$. Therefore the restriction $A\restrict_{L^\perp}$ is a
linear isometry with eigenvalue -1. Geometrically this map reflects
$\L^\perp$ through $L$, and so the vector at their intersection is
unchanged, so this has an eigenvalue 1.

Let $L$ be a line fixed by $A$. Then $A\restrict_{L^\perp}$ acts as a
rotation because $\det(A\restrict_{L^\perp}) = 1$. Use this rotation
to put an arrow on $L$ satisfying the right hand rule, and let $v$ be
a unit vector in that direction. This is only well-defined provided
the angle of rotation is not an integer multiple of $\pi$. We have
then defined a map $\mathrm{SO}(3) \to \mathbb{D}^3(pi) / \sim$ given
by
$A \mapsto \theta v$.
